# <Project Title>
[![Java](https://img.shields.io/badge/Java-%23ED8B00.svg?logo=openjdk&logoColor=white)](#)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-6DB33F?logo=springboot&logoColor=fff)](#)
[![Docker](https://img.shields.io/badge/Docker-2496ED?logo=docker&logoColor=fff)](#)
<Project description>

## Table of Contents

- [Introduction](#introduction)
- [Features](#features)
- [Prerequisites](#prerequisites)
- [Usage](#usage)
- [Running Tests](#running-tests)
- [Troubleshooting](#troubleshooting)
- [Contributing](#contributing)

## Introduction

<Project description>

## Features

- Spring Boot application
- Docker containerization
- Environment-specific configurations
- Test suite with JaCoCo coverage
- Github Actions
- RESTful API
- Swagger documentation
- Prometheus metrics
- Grafana dashboard

## Prerequisites

### Development Tools
- Gradle (wrapper included)
- IDE with Java support (e.g., IntelliJ IDEA, Eclipse, VS Code)

### Java
- Java Development Kit (JDK) version 21

### Infrastructure
- Docker

## Usage

### Dev

Follow these steps to get the project up and running locally as `dev` profile:

1. Start the SpringBoot App by running the following command:
```sh
./gradlew bootRun
```
2. Test the API endpoint using any REST client with the following request:
```sh
curl --location --request GET 'http://localhost:8080/api/health'
```
4. You can also use the Swagger UI at `http://localhost:8080/api/swagger-ui/index.html`

### Pre-Prod

Follow these steps to get the project up and running locally as `pre-prod` profile:

1. Modify environment variables in the `.env` file.
2. Start the Docker Container by running the following command:
```sh
docker compose up -d --build
```
3. Test the API endpoint using any REST client with the following request:
```sh
curl --location --request GET 'http://localhost:8080/api/health'
```
Optional:
1. Use the Swagger UI at `http://localhost:8080/api/swagger-ui/index.html`
2. Use the Prometheus UI at `http://localhost:9090`
3. Use the Grafana UI at `http://localhost:3000` (setup required with prometheus metrics)

### Prod

Follow these steps to get the project up with `prod` profile:

1. Setup environment variables from `.env` file into system environment variables in the server.
2. Start all the services associated with the application.
3. Start Docker Container.
4. Test the API endpoint using any REST client with the following request:
```sh
curl --location --request GET '{base_url}/api/health'
```
Optional:
1. Use the Swagger UI at `{base_url}/api/swagger-ui/index.html`
2. Use the Prometheus UI at `{base_url}:9090`
3. Use the Grafana UI at `{base_url}:3000` (setup required with prometheus metrics)

## Running Tests

To run the tests for this project, execute the following command:
```
.\gradlew test
```
To view the test coverage report, open the `index.html` file located inside the `build\reports\jacoco\test\html` folder (generated by the previous command).

## Troubleshooting

### Common Issues
1. Port 8080 already in use
   - Solution: Modify the port in application.yml or stop the conflicting service

2. Docker container fails to start
   - Solution: Check Docker logs using `docker logs <container_name>`

3. JDK version mismatch
   - Solution: Ensure `JAVA_HOME` points to JDK 21

4. Gradle build fails
   - Solution: Run `./gradlew clean build --refresh-dependencies`

5. Connection to Prometheus from Grafana not working (connection refused)
   - Solution: Use `http://host.docker.internal:9090` instead of `http://localhost:9090`

## Contributing

1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request